# =============================================================================
# Trading System Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# IMPORTANT: Never commit .env to version control!

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL/TimescaleDB Connection
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://trading_user:your_password@localhost:5432/trading_system

# Connection Pool Settings
DB_POOL_MIN_SIZE=5
DB_POOL_MAX_SIZE=20

# =============================================================================
# LLM PROVIDER CONFIGURATION
# =============================================================================

# Claude (Anthropic) - Primary Recommended
# Get API key from: https://console.anthropic.com/
CLAUDE_API_KEY=sk-ant-api03-xxxxxxxxxxxxxxxxxxxxx
CLAUDE_MODEL=sonnet  # Options: sonnet, haiku, opus

# Gemini (Google) - FREE TIER AVAILABLE
# Get API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=AIzaSyxxxxxxxxxxxxxxxxxxxxx
GEMINI_MODEL=flash  # Options: flash, pro, flash-thinking

# OpenAI (Fallback)
# Get API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxx
OPENAI_MODEL=gpt4o-mini  # Options: gpt4, gpt4o, gpt4o-mini

# FinGPT (Optional - for sentiment analysis)
# Get Hugging Face API key from: https://huggingface.co/settings/tokens
FINGPT_API_KEY=hf_xxxxxxxxxxxxxxxxxxxxx
FINGPT_BASE_URL=  # Leave empty for default HF endpoint

# =============================================================================
# TRADING CONFIGURATION
# =============================================================================

# Initial Capital
INITIAL_CAPITAL=100000  # INR

# Risk Management
MAX_POSITION_SIZE_PCT=5.0  # Max 5% per position
MAX_TOTAL_EXPOSURE_PCT=30.0  # Max 30% total exposure
MAX_DAILY_LOSS_PCT=5.0  # Circuit breaker at -5% daily loss
MAX_DRAWDOWN_PCT=15.0  # Trading halt at -15% drawdown
MAX_CONCURRENT_POSITIONS=6  # Max number of open positions

# Sector Concentration
MAX_SECTOR_CONCENTRATION_PCT=20.0  # Max 20% per sector

# =============================================================================
# AI AUTONOMY CONFIGURATION
# =============================================================================

# Current Autonomy Level (0-4)
# 0 = Manual (100% approval)
# 1 = Assisted (very low risk only)
# 2 = Semi-Autonomous (low-medium risk)
# 3 = Autonomous (most trades)
# 4 = Fully Autonomous (almost everything)
AUTONOMY_LEVEL=0  # Start with manual

# =============================================================================
# DATA SOURCES
# =============================================================================

# Market Data
MARKET_DATA_SOURCE=yfinance  # Options: yfinance, zerodha
MARKET_DATA_REFRESH_INTERVAL=60  # Seconds

# News Sources (for Market Intelligence Agent)
NEWS_SOURCES=economictimes,moneycontrol  # Comma-separated

# =============================================================================
# TELEGRAM ALERTS (Optional)
# =============================================================================

# Telegram Bot Configuration
# Create bot via @BotFather on Telegram
TELEGRAM_BOT_TOKEN=  # Your bot token from @BotFather
TELEGRAM_CHAT_ID=  # Your chat ID (get from /getUpdates)
TELEGRAM_ENABLED=false  # Set to true to enable alerts

# =============================================================================
# LOGGING
# =============================================================================

LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR
LOG_FILE=logs/trading_system.log
LOG_MAX_BYTES=10485760  # 10 MB
LOG_BACKUP_COUNT=5

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Environment
ENVIRONMENT=development  # Options: development, staging, production

# Server Configuration (for API/Dashboard)
HOST=0.0.0.0
PORT=8000

# =============================================================================
# CLOUD STORAGE (for archival)
# =============================================================================

# GCS (Google Cloud Storage)
GCS_BUCKET_NAME=  # e.g., trading-system-audit-archive
GCS_PROJECT_ID=  # Your GCP project ID
GOOGLE_APPLICATION_CREDENTIALS=  # Path to service account JSON

# AWS S3 (Alternative)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
S3_BUCKET_NAME=
S3_REGION=ap-south-1  # Mumbai region

# =============================================================================
# SEBI COMPLIANCE
# =============================================================================

# Algo Registration
ALGO_ID=  # Your registered algo ID
CLIENT_ID=  # Your client ID
STATIC_IP=  # Your static IP (if required)

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/Disable Features
ENABLE_PAPER_TRADING=true
ENABLE_LIVE_TRADING=false  # ONLY enable after thorough paper trading
ENABLE_AI_AGENTS=true
ENABLE_LEARNING=true
ENABLE_AUTO_EXECUTION=false  # Based on autonomy level

# =============================================================================
# DEVELOPMENT/TESTING
# =============================================================================

# Test Mode
TEST_MODE=false  # Use test data instead of real market data

# Mock LLM (for testing without API costs)
MOCK_LLM=false  # Set to true to use mock responses

# =============================================================================
# MONITORING
# =============================================================================

# Sentry (Error Tracking) - Optional
SENTRY_DSN=

# Prometheus Metrics - Optional
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# =============================================================================
# NOTES
# =============================================================================

# LLM Provider Selection:
# - For paper trading: Use Gemini FREE tier (0 cost, 1M tokens/day)
# - For production: Use Claude Sonnet (best reasoning, ~₹0.05/decision)
# - For fallback: Use GPT-4 Mini (cheap and fast)

# Database:
# - Development: Use Railway or local PostgreSQL
# - Production: Use GCP Cloud SQL (managed PostgreSQL + TimescaleDB)

# Cost Estimates:
# - Gemini Free Tier: ₹0/month (up to 1M tokens/day)
# - Claude Sonnet: ₹500-1,500/month (depending on usage)
# - Database (Railway): ₹800/month
# - Database (GCP): ₹1,500/month
# - Total: ₹1,500-3,000/month
